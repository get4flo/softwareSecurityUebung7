FROM debian:latest@sha256:18023f131f52fc3ea21973cabffe0b216c60b417fd2478e94d9d59981ebba6af

WORKDIR /code

RUN apt update
RUN apt install -y python3 python3-pip patchelf
RUN pip install pwntools --break-system-packages

RUN useradd -s /bin/bash ssl

COPY ./homework .
COPY ./libc.so.6 .

RUN chown -R ssl:ssl /code

USER ssl

ENTRYPOINT python3 ./exploit.py HOST=homework PORT=1337 DEBUG
